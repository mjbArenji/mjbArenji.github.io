<!DOCTYPE html>
<html>
<body>
<script type="text/javascript">
(function() {
	var localStorage = window.localStorage;

    function handleRequest(event) {
		console.log('handleRequest origin: ', event.origin);
        if (event.origin === "https://mbradburn.github.io") {
            var data = event.data;
			var key = "mjb-save-key";

			localStorage.setItem(key, data)
			console.log('saved localstorage')
        } else {
			console.error('Origin not allowed: ', event.origin);
		}
    }

    if (window.addEventListener) {
        window.addEventListener("message", handleRequest, false);
    } else if (window.attachEvent) {
		// attachEvent is for old IE
        window.attachEvent("onmessage", handleRequest);
    }
})();
</script>
</body>
